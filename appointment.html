<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Book Appointment - Dr. Vikash Paudel | Best Dermatologist in Kathmandu</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <style>
    /* CSS Variables - Updated Color Scheme */
    :root {
      --primary: #1a6aa2;
      --primary-light: #2c8ac9;
      --primary-dark: #155d8a;
      --primary-foreground: #ffffff;
      --accent: #e74c3c;
      --accent-light: #ff6b5c;
      --accent-dark: #c0392b;
      --accent-gradient: linear-gradient(135deg, var(--accent), var(--accent-light));
      --background: #ffffff;
      --foreground: #2c3e50;
      --muted-foreground: #566573;
      --border: #e0e0e0;
      --shadow-card: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 5px 10px -5px rgba(0, 0, 0, 0.04);
      --hero-gradient: linear-gradient(135deg, var(--primary), var(--primary-light));
      --transition-smooth: all 0.3s ease;
      --success: #27ae60;
      --warning: #f39c12;
      --error: #e74c3c;
      --border-radius: 12px;
    }

    /* Base Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', 'Poppins', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.7;
      color: var(--foreground);
      background-color: #f8fafc;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* Header Styles */
    header {
      background: var(--hero-gradient);
      color: var(--primary-foreground);
      padding: 4rem 1rem;
      text-align: center;
      margin-bottom: 2rem;
      position: relative;
      overflow: hidden;
    }

    header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 100" fill="%23ffffff" opacity="0.1"><polygon points="0,0 1000,0 1000,100 0,100"/></svg>');
      background-size: cover;
    }

    header h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
      font-weight: 700;
      position: relative;
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    header p {
      font-size: 1.25rem;
      opacity: 0.95;
      max-width: 700px;
      margin: 0 auto;
      position: relative;
      font-weight: 400;
    }

    /* Navigation Styles */
    .navbar {
      background-color: var(--background);
      box-shadow: 0 2px 15px rgba(0, 0, 0, 0.08);
      position: sticky;
      top: 0;
      z-index: 100;
      padding: 0.5rem 0;
    }

    .navbar-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .navbar-logo {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      text-decoration: none;
      color: var(--primary);
      font-weight: 700;
      font-size: 1.25rem;
    }

    .navbar-logo i {
      font-size: 1.5rem;
    }

    .navbar ul {
      list-style: none;
      display: flex;
      gap: 1.5rem;
    }

    .navbar a {
      text-decoration: none;
      color: var(--foreground);
      font-weight: 500;
      transition: var(--transition-smooth);
      padding: 0.5rem 0.75rem;
      border-radius: 6px;
      position: relative;
    }

    .navbar a:not(.book-now-btn):hover {
      color: var(--primary);
      background-color: rgba(26, 106, 162, 0.05);
    }

    .navbar a.active {
      color: var(--primary);
      font-weight: 600;
    }

    .navbar a.active::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0.75rem;
      right: 0.75rem;
      height: 3px;
      background: var(--accent);
      border-radius: 3px 3px 0 0;
    }

    /* Enhanced Book Now Button */
    .book-now-btn {
      background: var(--accent-gradient);
      color: white;
      border-radius: 30px;
      padding: 0.75rem 1.75rem;
      font-weight: 600;
      box-shadow: 0 4px 12px rgba(231, 76, 60, 0.3);
      transition: var(--transition-smooth);
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-family: 'Poppins', sans-serif;
      letter-spacing: 0.5px;
      position: relative;
      overflow: hidden;
      z-index: 1;
    }

    .book-now-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.7s ease;
      z-index: -1;
    }

    .book-now-btn:hover {
      background: linear-gradient(135deg, var(--accent-dark), var(--accent));
      color: white;
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(231, 76, 60, 0.4);
    }

    .book-now-btn:hover::before {
      left: 100%;
    }

    /* Main Content Styles */
    main {
      flex: 1;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }

    .content-section {
      padding: 4rem 0;
    }

    .max-w-4xl {
      max-width: 56rem;
    }

    .mx-auto {
      margin-left: auto;
      margin-right: auto;
    }

    .space-y-12 > * + * {
      margin-top: 3rem;
    }

    /* Typography */
    h2 {
      font-size: 2.25rem;
      font-weight: 700;
      color: var(--foreground);
      margin-bottom: 1.5rem;
      font-family: 'Poppins', sans-serif;
    }

    h3 {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--foreground);
      margin-bottom: 0.75rem;
      font-family: 'Poppins', sans-serif;
    }

    p {
      margin-bottom: 1rem;
      color: var(--muted-foreground);
    }

    .text-lg {
      font-size: 1.125rem;
    }

    .text-muted-foreground {
      color: var(--muted-foreground);
    }

    /* Card Styles */
    .card {
      background-color: var(--background);
      border: 1px solid var(--border);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow-card);
      overflow: hidden;
      transition: var(--transition-smooth);
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    }

    .card-content {
      padding: 2rem;
    }

    /* Form Styles */
    .appointment-form {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }

    @media (min-width: 768px) {
      .form-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    .form-group {
      display: flex;
      flex-direction: column;
    }

    .form-label {
      display: block;
      font-size: 0.95rem;
      font-weight: 600;
      color: var(--foreground);
      margin-bottom: 0.5rem;
      font-family: 'Poppins', sans-serif;
    }

    .form-input,
    .form-select,
    .form-textarea {
      width: 100%;
      padding: 0.875rem 1rem;
      border-radius: 8px;
      border: 1px solid var(--border);
      background-color: var(--background);
      color: var(--foreground);
      font-size: 1rem;
      transition: var(--transition-smooth);
      font-family: 'Segoe UI', sans-serif;
    }

    .form-input:focus,
    .form-select:focus,
    .form-textarea:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.2);
      border-color: var(--accent);
    }

    .form-textarea {
      resize: vertical;
      min-height: 7rem;
    }

    /* Checkbox Styles */
    .checkbox-group {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
    }

    .checkbox-input {
      margin-top: 0.25rem;
      width: 1.25rem;
      height: 1.25rem;
      accent-color: var(--accent);
    }

    .checkbox-label {
      font-size: 0.9rem;
      color: var(--muted-foreground);
      line-height: 1.4;
    }

    /* Enhanced Button Styles */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.875rem 2rem;
      font-size: 1.1rem;
      font-weight: 600;
      border-radius: 10px;
      cursor: pointer;
      transition: var(--transition-smooth);
      border: none;
      text-decoration: none;
      font-family: 'Poppins', sans-serif;
      letter-spacing: 0.5px;
      position: relative;
      overflow: hidden;
      z-index: 1;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.7s ease;
      z-index: -1;
    }

    .btn:hover::before {
      left: 100%;
    }

    .btn-primary {
      background: var(--accent-gradient);
      color: white;
      box-shadow: 0 4px 12px rgba(231, 76, 60, 0.3);
    }

    .btn-primary:hover {
      background: linear-gradient(135deg, var(--accent-dark), var(--accent));
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(231, 76, 60, 0.4);
    }

    .btn-lg {
      padding: 1rem 2.5rem;
      font-size: 1.2rem;
    }

    .w-full {
      width: 100%;
    }

    @media (min-width: 768px) {
      .md\:w-auto {
        width: auto;
      }
    }

    /* Contact Information */
    .contact-info {
      background: linear-gradient(135deg, #f8fafc, #e9ecef);
      border-left: 4px solid var(--accent);
    }

    .contact-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }

    @media (min-width: 768px) {
      .contact-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    .contact-item {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
    }

    /* Footer Styles */
    footer {
      background-color: #2c3e50;
      color: #ecf0f1;
      text-align: center;
      padding: 2rem 1rem;
      margin-top: 3rem;
    }

    /* Status Messages */
    .status-message {
      padding: 1rem 1.5rem;
      border-radius: 8px;
      margin-bottom: 1.5rem;
      text-align: center;
      font-weight: 500;
      font-family: 'Poppins', sans-serif;
      box-shadow: 0 4px 6px rgba(0,0,0,0.05);
    }

    .status-success {
      background-color: rgba(39, 174, 96, 0.1);
      color: var(--success);
      border: 1px solid rgba(39, 174, 96, 0.3);
    }

    .status-error {
      background-color: rgba(231, 76, 60, 0.1);
      color: var(--error);
      border: 1px solid rgba(231, 76, 60, 0.3);
    }

    .status-warning {
      background-color: rgba(243, 156, 18, 0.1);
      color: var(--warning);
      border: 1px solid rgba(243, 156, 18, 0.3);
    }

    /* Loading Spinner */
    .spinner {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: #fff;
      animation: spin 1s ease-in-out infinite;
      margin-right: 10px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* WhatsApp Button Styles */
    .whatsapp-button {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      background-color: #25D366;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 28px;
      box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
      z-index: 1000;
      transition: var(--transition-smooth);
      text-decoration: none;
    }

    .whatsapp-button:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 25px rgba(37, 211, 102, 0.6);
      color: white;
    }

    /* Live Chat Widget Styles */
    .chat-widget {
      position: fixed;
      bottom: 30px;
      right: 110px;
      z-index: 1000;
    }

    .chat-button {
      width: 60px;
      height: 60px;
      background: var(--accent-gradient);
      border: none;
      border-radius: 50%;
      color: white;
      font-size: 22px;
      cursor: pointer;
      box-shadow: 0 4px 20px rgba(231, 76, 60, 0.4);
      transition: var(--transition-smooth);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .chat-button:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 25px rgba(231, 76, 60, 0.6);
    }

    .chat-container {
      position: absolute;
      bottom: 80px;
      right: 0;
      width: 350px;
      height: 450px;
      background: white;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      display: none;
      flex-direction: column;
      overflow: hidden;
    }

    .chat-container.active {
      display: flex;
    }

    .chat-header {
      background: var(--hero-gradient);
      color: white;
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .chat-header h3 {
      color: white;
      margin: 0;
      font-size: 18px;
    }

    .close-chat {
      background: none;
      border: none;
      color: white;
      font-size: 18px;
      cursor: pointer;
      transition: var(--transition-smooth);
    }

    .close-chat:hover {
      transform: scale(1.1);
    }

    .chat-messages {
      flex: 1;
      padding: 15px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .message {
      padding: 10px 15px;
      border-radius: 18px;
      max-width: 80%;
      word-wrap: break-word;
    }

    .message.bot {
      background: #f1f1f1;
      align-self: flex-start;
      border-bottom-left-radius: 5px;
    }

    .message.user {
      background: var(--primary-light);
      color: white;
      align-self: flex-end;
      border-bottom-right-radius: 5px;
    }

    .chat-input {
      display: flex;
      padding: 15px;
      border-top: 1px solid var(--border);
    }

    .chat-input input {
      flex: 1;
      padding: 12px 15px;
      border: 1px solid var(--border);
      border-radius: 25px;
      outline: none;
      font-size: 14px;
    }

    .chat-input input:focus {
      border-color: var(--primary);
    }

    .chat-input button {
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 50%;
      width: 45px;
      height: 45px;
      margin-left: 10px;
      cursor: pointer;
      transition: var(--transition-smooth);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .chat-input button:hover {
      background: var(--primary-dark);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      header h1 {
        font-size: 2.25rem;
      }
      
      .navbar-container {
        flex-direction: column;
        gap: 1rem;
      }
      
      .navbar ul {
        flex-wrap: wrap;
        justify-content: center;
        gap: 0.75rem;
      }
      
      .navbar a {
        padding: 0.5rem 0.75rem;
        font-size: 0.9rem;
      }
      
      .book-now-btn {
        margin-top: 0.5rem;
        justify-content: center;
      }
      
      h2 {
        font-size: 1.875rem;
      }
      
      .card-content {
        padding: 1.5rem;
      }
      
      .chat-widget {
        right: 90px;
      }
      
      .chat-container {
        width: 300px;
        height: 400px;
      }
    }

    @media (max-width: 480px) {
      header {
        padding: 3rem 1rem;
      }
      
      header h1 {
        font-size: 1.875rem;
      }
      
      .content-section {
        padding: 2.5rem 0;
      }
      
      .card-content {
        padding: 1.25rem;
      }
      
      .whatsapp-button {
        bottom: 20px;
        right: 20px;
        width: 55px;
        height: 55px;
        font-size: 24px;
      }
      
      .chat-widget {
        bottom: 20px;
        right: 85px;
      }
      
      .chat-button {
        width: 55px;
        height: 55px;
        font-size: 20px;
      }
      
      .chat-container {
        width: 280px;
        height: 380px;
      }
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="navbar-container">
      <a href="index.html" class="navbar-logo">
        <i class="fas fa-stethoscope"></i>
        <span>Dr. Vikash Paudel</span>
      </a>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="biography.html">Biography</a></li>
        <li><a href="research.html">Research</a></li>
        <li><a href="blog.html">Blog</a></li>
        <li><a href="award.html">Awards</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="appointment.html" class="active">Appointment</a></li>
        <li><a href="#appointment-form" class="book-now-btn">
          <i class="fas fa-calendar-alt"></i>
          Book Now
        </a></li>
      </ul>
    </div>
  </nav>

  <main>
    <!-- Header -->
    <header>
      <h1>Book an Appointment</h1>
      <p>Schedule your consultation with Dr. Vikash Paudel for dermatological care</p>
    </header>

    <!-- Appointment Content -->
    <section class="content-section">
      <div class="container">
        <div class="max-w-4xl mx-auto space-y-12">
          <!-- Appointment Info -->
          <div class="info-grid">
            <div class="card">
              <div class="card-content">
                <div class="w-12 h-12 bg-primary-light rounded-lg flex items-center justify-center mb-4">
                  <i class="fas fa-calendar-check text-primary w-6 h-6"></i>
                </div>
                <h3>Flexible Scheduling</h3>
                <p class="text-muted-foreground">
                  Choose from multiple clinic locations and time slots that fit your busy schedule. We offer morning, afternoon, and evening appointments.
                </p>
              </div>
            </div>

            <div class="card">
              <div class="card-content">
                <div class="w-12 h-12 bg-accent-light rounded-lg flex items-center justify-center mb-4">
                  <i class="fas fa-clock text-accent w-6 h-6"></i>
                </div>
                <h3>Quick Response</h3>
                <p class="text-muted-foreground">
                  We typically respond to appointment requests within 24 hours. For urgent matters, please call us directly.
                </p>
              </div>
            </div>
          </div>

          <!-- Booking Form -->
          <div class="card" id="appointment-form">
            <div class="card-content">
              <h2>Request an Appointment</h2>
              <p class="text-muted-foreground mb-6">Fill out the form below and we'll contact you to confirm your appointment</p>
              
              <div id="form-status"></div>
              
              <form class="appointment-form" id="appointmentForm">
                <div class="form-grid">
                  <div class="form-group">
                    <label for="fullName" class="form-label">
                      Full Name *
                    </label>
                    <input
                      type="text"
                      id="fullName"
                      name="fullName"
                      required
                      class="form-input"
                      placeholder="Your full name"
                    />
                  </div>
                  
                  <div class="form-group">
                    <label for="age" class="form-label">
                      Age *
                    </label>
                    <input
                      type="number"
                      id="age"
                      name="age"
                      required
                      class="form-input"
                      placeholder="Your age"
                      min="1"
                      max="120"
                    />
                  </div>
                </div>

                <div class="form-grid">
                  <div class="form-group">
                    <label for="phoneNumber" class="form-label">
                      Phone Number *
                    </label>
                    <input
                      type="tel"
                      id="phoneNumber"
                      name="phoneNumber"
                      required
                      class="form-input"
                      placeholder="+977-XXXXXXXXXX"
                    />
                  </div>
                  
                  <div class="form-group">
                    <label for="emailAddress" class="form-label">
                      Email Address *
                    </label>
                    <input
                      type="email"
                      id="emailAddress"
                      name="emailAddress"
                      required
                      class="form-input"
                      placeholder="your.email@example.com"
                    />
                  </div>
                </div>

                <div class="form-grid">
                  <div class="form-group">
                    <label for="clinicLocation" class="form-label">
                      Preferred Clinic Location *
                    </label>
                    <select
                      id="clinicLocation"
                      name="clinicLocation"
                      required
                      class="form-select"
                    >
                      <option value="">Select a clinic</option>
                      <option value="Elite Health Clinic, Lagankhel">Elite Health Clinic</option>
                      <option value="Shankhamul Healthcare, Shankhamul">Shankhamul Healthcare</option>
                      <option value=" Shubharambha Skin Centre, Dhangadhi">Shubharambha Skin Clinic, Dhangadhi</option>
                      <option value="Teledermatology">Online Teledermatology consultation</option>
                    </select>
                  </div>
                  
                  <div class="form-group">
                    <label for="preferredDate" class="form-label">
                      Preferred Date *
                    </label>
                    <input
                      type="date"
                      id="preferredDate"
                      name="preferredDate"
                      required
                      class="form-input"
                    />
                  </div>
                </div>

                <div class="form-group">
                  <label for="preferredTime" class="form-label">
                    Preferred Time *
                  </label>
                  <select
                    id="preferredTime"
                    name="preferredTime"
                    required
                    class="form-select"
                  >
                    <option value="">Select a time slot</option>
                    <option value="Morning (9:00 AM - 12:00 PM)">Morning (9:00 AM - 12:00 PM)</option>
                    <option value="Afternoon (12:00 PM - 4:00 PM)">Afternoon (12:00 PM - 4:00 PM)</option>
                    <option value="Evening (4:00 PM - 7:00 PM)">Evening (4:00 PM - 7:00 PM)</option>
                    <option value="Every Saturday (Dhangadhi)(9:00 PM - 5:00 PM)">Every Saturday (Dhangadhi)(9:00 PM - 5:00 PM)</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="reasonForVisit" class="form-label">
                    Reason for Visit *
                  </label>
                  <select
                    id="reasonForVisit"
                    name="reasonForVisit"
                    required
                    class="form-select"
                  >
                    <option value="">Select reason for visit</option>
                    <option value="Acne Treatment">Acne Treatment</option>
                    <option value="Aesthetic Dermatology">Aesthetic Dermatology</option>
                    <option value="Skin Surgery Consultation">Skin Surgery Consultation</option>
                    <option value="Hair Disorder">Hair Disorder</option>
                    <option value="Pigmentation Issues">Pigmentation Issues</option>
                    <option value="Skin Rash or Infection">Skin Rash or Infection</option>
                    <option value="General Consultation">General Consultation</option>
                    <option value="Other">Other</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="additionalInfo" class="form-label">
                    Additional Information
                  </label>
                  <textarea
                    id="additionalInfo"
                    name="additionalInfo"
                    rows="4"
                    class="form-textarea"
                    placeholder="Please provide any additional details about your condition or concerns..."
                  ></textarea>
                </div>

                <div class="checkbox-group">
                  <input
                    type="checkbox"
                    id="consent"
                    name="consent"
                    required
                    class="checkbox-input"
                  />
                  <label for="consent" class="checkbox-label">
                    I consent to the collection and processing of my personal information for appointment scheduling purposes. *
                  </label>
                </div>

                <button type="submit" class="btn btn-primary btn-lg w-full md:w-auto" id="submit-btn">
                  <i class="fas fa-paper-plane" style="margin-right: 8px;"></i>
                  Request Appointment
                </button>
              </form>
            </div>
          </div>

          <!-- Contact Information -->
          <div class="card contact-info">
            <div class="card-content">
              <h2>Need Help Booking?</h2>
              <p class="text-muted-foreground mb-6">
                If you prefer to book by phone or have questions about appointments, please contact us directly:
              </p>
              <div class="contact-grid">
                <div class="contact-item">
                  <i class="fas fa-phone text-primary w-5 h-5 shrink-0 mt-0.5"></i>
                  <div>
                    <p class="font-semibold text-foreground mb-1">Shubharambha Skin Centre, Dhangadhi</p>
                    <p class="text-sm text-muted-foreground">+977-91-410107</p>
                  </div>
                </div>
                <div class="contact-item">
                  <i class="fas fa-phone text-primary w-5 h-5 shrink-0 mt-0.5"></i>
                  <div>
                    <p class="font-semibold text-foreground mb-1">Elite Health Clinic, Lagankhel</p>
                    <p class="text-sm text-muted-foreground">+977-1-5420745</p>
                  </div>
                </div>
                <div class="contact-item">
                  <i class="fas fa-phone text-primary w-5 h-5 shrink-0 mt-0.5"></i>
                  <div>
                    <p class="font-semibold text-foreground mb-1">Shankhamul Healthcare, Dhangadhi</p>
                    <p class="text-sm text-muted-foreground">+977-1-5242511</p>
                  </div>
                </div>
              </div>
              <div class="mt-6 pt-6 border-t border-gray-200">
                <div class="contact-item">
                  <i class="fas fa-phone text-primary w-5 h-5 shrink-0 mt-0.5"></i>
                  <div>
                    <p class="font-semibold text-foreground mb-1">Teledermatology Consultation</p>
                    <p class="text-sm text-muted-foreground">977-9825207253</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Dr. Vikash Paudel. All Rights Reserved.</p>
  </footer>

  <!-- WhatsApp Button -->
  <a href="https://wa.me/9779825207253?text=Hello%20Dr.%20Paudel,%20I%20would%20like%20to%20book%20an%20appointment" class="whatsapp-button" target="_blank">
      <i class="fab fa-whatsapp"></i>
  </a>

  <!-- Live Chat Widget -->
  <div class="chat-widget">
      <button class="chat-button" id="chatButton">
          <i class="fas fa-comments"></i>
      </button>
      <div class="chat-container" id="chatContainer">
          <div class="chat-header">
              <h3 data-en="Chat with Us" data-np="हामीसँग कुरा गर्नुहोस्">Chat with Us</h3>
              <button class="close-chat" id="closeChat">
                  <i class="fas fa-times"></i>
              </button>
          </div>
          <div class="chat-messages" id="chatMessages">
              <div class="message bot">
                  <span data-en="Hello! How can we help you today?" data-np="नमस्ते! आज हामी तपाईंलाई कसरी मद्दत गर्न सक्छौं?">Hello! How can we help you today?</span>
              </div>
          </div>
          <div class="chat-input">
              <input type="text" id="chatInput" placeholder="Type your message..." data-en="Type your message..." data-np="आफ्नो सन्देश टाइप गर्नुहोस्...">
              <button id="sendMessage">
                  <i class="fas fa-paper-plane"></i>
              </button>
          </div>
      </div>
  </div>

  <script>
    // Initialize EmailJS with your Public Key
    (function() {
      emailjs.init("nPsKsuZlR3ghah6k-");
    })();

    // Form validation and submission handling
    document.addEventListener('DOMContentLoaded', function() {
      const appointmentForm = document.getElementById('appointmentForm');
      const preferredDateInput = document.getElementById('preferredDate');
      const submitBtn = document.getElementById('submit-btn');
      const formStatus = document.getElementById('form-status');
      
      // Set minimum date to today
      const today = new Date().toISOString().split('T')[0];
      preferredDateInput.min = today;
      
      // Show status message
      function showStatus(message, type) {
        formStatus.innerHTML = `<div class="status-message status-${type}">${message}</div>`;
        // Scroll to form status
        formStatus.scrollIntoView({ behavior: 'smooth', block: 'center' });
        setTimeout(() => {
          formStatus.innerHTML = '';
        }, 8000);
      }
      
      // Show loading state
      function setLoading(isLoading) {
        if (isLoading) {
          submitBtn.innerHTML = '<span class="spinner"></span> Processing...';
          submitBtn.disabled = true;
        } else {
          submitBtn.innerHTML = '<i class="fas fa-paper-plane" style="margin-right: 8px;"></i> Request Appointment';
          submitBtn.disabled = false;
        }
      }
      
      if (appointmentForm) {
        appointmentForm.addEventListener('submit', function(e) {
          e.preventDefault();
          
          // Get form values
          const fullName = document.getElementById('fullName').value;
          const age = document.getElementById('age').value;
          const phoneNumber = document.getElementById('phoneNumber').value;
          const emailAddress = document.getElementById('emailAddress').value;
          const clinicLocation = document.getElementById('clinicLocation').value;
          const preferredDate = document.getElementById('preferredDate').value;
          const preferredTime = document.getElementById('preferredTime').value;
          const reasonForVisit = document.getElementById('reasonForVisit').value;
          const additionalInfo = document.getElementById('additionalInfo').value;
          const consent = document.getElementById('consent').checked;
          
          // Simple validation
          if (!fullName || !age || !phoneNumber || !emailAddress || 
              !clinicLocation || !preferredDate || !preferredTime || 
              !reasonForVisit || !consent) {
            showStatus('Please fill in all required fields and provide consent.', 'error');
            return;
          }
          
          // Age validation
          if (age < 1 || age > 120) {
            showStatus('Please enter a valid age (1-120).', 'error');
            return;
          }
          
          // Email validation
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(emailAddress)) {
            showStatus('Please enter a valid email address.', 'error');
            return;
          }
          
          // Date validation
          const selectedDate = new Date(preferredDate);
          if (selectedDate < new Date(today)) {
            showStatus('Please select a future date for your appointment.', 'error');
            return;
          }
          
          // Set loading state
          setLoading(true);
          
          // Prepare template parameters for EmailJS
          const templateParams = {
            from_name: fullName,
            age: age,
            phone_number: phoneNumber,
            reply_to: emailAddress,
            clinic_location: clinicLocation,
            preferred_date: preferredDate,
            preferred_time: preferredTime,
            reason_for_visit: reasonForVisit,
            additional_info: additionalInfo || 'No additional information provided',
            submitted_at: new Date().toLocaleString('en-US', { 
              year: 'numeric', 
              month: 'long', 
              day: 'numeric',
              hour: '2-digit',
              minute: '2-digit'
            })
          };
          
          console.log('Sending email with params:', templateParams);
          
          // Send email using EmailJS with the correct Service ID and Template ID
          emailjs.send('service_z7z2n3h', 'template_hqr000g', templateParams)
            .then(function(response) {
              console.log('SUCCESS!', response.status, response.text);
              showStatus('Thank you for your appointment request! We will contact you within 24 hours to confirm your appointment.', 'success');
              appointmentForm.reset();
              preferredDateInput.min = today;
            }, function(error) {
              console.log('FAILED...', error);
              // More detailed error information
              let errorMessage = 'There was an error submitting your request. ';
              
              if (error.status === 400) {
                errorMessage += 'Invalid request parameters. Please check your form data.';
              } else if (error.status === 401) {
                errorMessage += 'Authentication failed. Please contact the website administrator.';
              } else if (error.status === 403) {
                errorMessage += 'Access denied. Please try again later.';
              } else {
                errorMessage += 'Please try again or contact us directly at +977-1-5242511.';
              }
              
              showStatus(errorMessage, 'error');
            })
            .finally(function() {
              setLoading(false);
            });
        });
      }
      
      // Live Chat Widget Functionality
      const chatButton = document.getElementById('chatButton');
      const chatContainer = document.getElementById('chatContainer');
      const closeChat = document.getElementById('closeChat');
      const chatMessages = document.getElementById('chatMessages');
      const chatInput = document.getElementById('chatInput');
      const sendMessage = document.getElementById('sendMessage');
      
      // Toggle chat container
      chatButton.addEventListener('click', function() {
        chatContainer.classList.toggle('active');
      });
      
      // Close chat container
      closeChat.addEventListener('click', function() {
        chatContainer.classList.remove('active');
      });
      
      // Send message function
      function sendChatMessage() {
        const message = chatInput.value.trim();
        if (message) {
          // Add user message
          const userMessage = document.createElement('div');
          userMessage.className = 'message user';
          userMessage.textContent = message;
          chatMessages.appendChild(userMessage);
          
          // Clear input
          chatInput.value = '';
          
          // Scroll to bottom
          chatMessages.scrollTop = chatMessages.scrollHeight;
          
          // Simulate bot response after a delay
          setTimeout(function() {
            const botMessage = document.createElement('div');
            botMessage.className = 'message bot';
            botMessage.innerHTML = '<span data-en="Thank you for your message. Our team will respond shortly. For immediate assistance, please call us at +977-1-5242511." data-np="धन्यवाद। हाम्रो टोलीले चाँडै जवाफ दिनेछ। तत्काल सहयोगको लागि कृपया +९७७-१-५२४२५११ मा कल गर्नुहोस्।">Thank you for your message. Our team will respond shortly. For immediate assistance, please call us at +977-1-5242511.</span>';
            chatMessages.appendChild(botMessage);
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
          }, 1000);
        }
      }
      
      // Send message on button click
      sendMessage.addEventListener('click', sendChatMessage);
      
      // Send message on Enter key
      chatInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          sendChatMessage();
        }
      });
    });
  </script>
</body>
</html>
